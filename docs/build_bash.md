# üìÑ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É —Å–∫—Ä–∏–ø—Ç–∞ `build.sh`

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç `build.sh` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ **Court Case Monitor** –≤ –æ–¥–Ω–æ–º –∏–∑ –¥–≤—É—Ö —Ä–µ–∂–∏–º–æ–≤:

- **–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (`dev`)**
- **–ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º (`prod`)**

–°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É—Ç–∏–ª–∏—Ç—É `docker-compose` –¥–ª—è —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –æ–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö.

---

## üõ† –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –í–µ—Ä—Å–∏—è / –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|----------|----------------------|
| **Bash** | –û–±–æ–ª–æ—á–∫–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ |
| **Docker** | –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω (Linux) –∏–ª–∏ —á–µ—Ä–µ–∑ Docker Desktop (macOS/WSL) |
| **docker-compose** | –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è 2.x –∏–ª–∏ –≤—ã—à–µ |

> üí° –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –≤–µ—Ä—Å–∏—è: [Docker Engine](https://docs.docker.com/engine/install/) + [Docker Compose Plugin](https://docs.docker.com/compose/install/linux/)

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
docker --version
docker compose version || docker-compose --version
```

–ï—Å–ª–∏ –≤—ã–≤–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–µ—Ä—Å–∏–∏ ‚Äî Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

---

## üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∑–∞–ø—É—Å–∫—É

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞:
   ```bash
   cd /–ø—É—Ç—å/–∫/–ø—Ä–æ–µ–∫—Ç—É
   ```

2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `build.sh` –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ:
   ```bash
   chmod +x build.sh
   ```

3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã:
   - `docker-compose.yml`
   - `docker-compose.override.yml` *(—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)*
   - `docker-compose.prod.yml` *(—Ç–æ–ª—å–∫–æ –¥–ª—è production)*

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞

### –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
./build.sh dev
```
–≠—Ç–æ—Ç —Ä–µ–∂–∏–º:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π `docker-compose.yml` –∏ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ `docker-compose.override.yml`
- –°—Ç—Ä–æ–∏—Ç –æ–±—Ä–∞–∑—ã –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ

### –ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º
```bash
./build.sh prod
```
–≠—Ç–æ—Ç —Ä–µ–∂–∏–º:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–±–∏–Ω–∞—Ü–∏—é `docker-compose.yml` –∏ `docker-compose.prod.yml`
- –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ (`-d`)

---

## ‚ùó –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏–µ

### 1. **–û—à–∏–±–∫–∞: "Permission denied" –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–∞**

#### –ü—Ä–∏—á–∏–Ω–∞:
–§–∞–π–ª –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ.

#### –†–µ—à–µ–Ω–∏–µ:
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ –ø—Ä–∞–≤–∞:
```bash
chmod +x build.sh
```

---

### 2. **–û—à–∏–±–∫–∞: "command not found: docker-compose" –∏–ª–∏ "docker compose: command not found"**

#### –ü—Ä–∏—á–∏–Ω–∞:
`docker-compose` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è.

#### –†–µ—à–µ–Ω–∏–µ:
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é Docker Compose:

**–î–ª—è Linux:**
```bash
sudo apt update && sudo apt install docker-compose-plugin
```

**–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:**
```bash
DOCKER_CONFIG=${DOCKER_CONFIG:-~/.docker}
mkdir -p $DOCKER_CONFIG/cli-plugins
curl -SL https://github.com/docker/compose/releases/download/v2.23.0/docker-compose-linux-x86_64 -o ~/.docker/cli-plugins/docker-compose
chmod +x ~/.docker/cli-plugins/docker-compose
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
```bash
docker compose version
```

---

### 3. **–û—à–∏–±–∫–∞: "File not found" –∏–ª–∏ "can't find docker-compose.yml"**

#### –ü—Ä–∏—á–∏–Ω–∞:
–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

#### –†–µ—à–µ–Ω–∏–µ:
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ñ–∞–π–ª—ã:
- `docker-compose.yml`
- `docker-compose.prod.yml` *(–¥–ª—è production —Ä–µ–∂–∏–º–∞)*

---

### 4. **–û—à–∏–±–∫–∞: "permission denied" –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å Docker**

#### –ü—Ä–∏—á–∏–Ω–∞:
–¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É `docker`.

#### –†–µ—à–µ–Ω–∏–µ:
–î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É `docker`:
```bash
sudo usermod -aG docker $USER
```
–ó–∞—Ç–µ–º –≤—ã–π–¥–∏—Ç–µ –∏–∑ —Å–∏—Å—Ç–µ–º—ã –∏ –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞.
